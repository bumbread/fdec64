
I stole this code from ryu. Original:

    https://github.com/ulfjack/ryu
